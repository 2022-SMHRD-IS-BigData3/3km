<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="km/model/MemberDAO">

	<insert id="join" parameterType="km.model.MemberVO">
		INSERT INTO USER_INFO(USER_ID,EMAIL,PW,NICKNAME,BRITHDAY)
		VALUES(USER_SEQ.nextval,#{email},#{pw},#{nickname},#{birthday})
	</insert>
	
	<insert id="join" parameterType="km.model.MemberVO">
		INSERT INTO DOG_INFO(DOG_ID,DOG_NAME,DOG_AGE,DOG_BREED,USER_ID)
		VALUES(DOG_INFO_SEQ.nextval,#{dog_name},#{dog_age},#{dog_breed}
		,SELECT LAST_NUMBER 
		 FROM USER_SEQUENCES 
		 WHERE SEQUENCE_NAME = 'DOG_INFO_SEQ')
	</insert>
	
	<select id="login" parameterType="km.model.MemberVO" resultType="km.model.MemberVO">
  		select *
  		from USER_INFO
  		where email=#{email} and pw=#{pw}
  	</select>















</mapper>